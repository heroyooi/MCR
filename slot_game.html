<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, maximum-scale=1.0">
  <title>Made Coupon</title>
  <link rel="stylesheet" href="css/common.css">
  <script src="js/jquery.min.js"></script>
  <script src="js/jquery-ui.min.js"></script>
  <script src="js/jquery.cookie.js"></script>
  <script src="js/jquery.magnific-popup.min.js"></script>
  <script src="js/aos.js"></script>
  <script src="js/swiper.js"></script>
  <script src="js/ui.js"></script>
</head>
<body>
  <div id="wrapper">
    <div id="header">
      <div class="h-inner hide-750">
        <div class="h-left">
          <h1><a href="#">Made Coupon</a></h1>
          <ul id="gnb">
            <li><a href="#">ì„ ë¬¼í•˜ê¸°</a></li>
            <li><a href="#">ìƒí’ˆê¶Œêµí™˜ì†Œ</a></li>
            <li><a href="#">ë§ˆì¼ë¦¬ì§€ì¶©ì „ì†Œ</a></li>
            <li><a href="#">ì´ë²¤íŠ¸</a></li>
          </ul>
        </div><!-- .h-left -->
        <div class="h-right hide-750">
          <div class="search-form">
            <input type="text" placeholder="ìƒí’ˆëª…, ë¸Œëœë“œ ê²€ìƒ‰" />
            <a href="#" class="btn-search">ê²€ìƒ‰</a>
          </div>
          <a href="#" class="btn-join" style="display: none;">ë¡œê·¸ì¸/íšŒì›ê°€ì…</a>
          <a href="#" class="btn-mypage">ë§ˆì´í˜ì´ì§€</a>
        </div><!-- .h-right -->
      </div><!-- .h-inner -->
      <div class="h-inner only-mobile show-750 flex">
        <a href="#" class="m-btn-back">ë’¤ë¡œ ê°€ê¸°</a>
        <h2 class="sub-tit">ë‘ê·¼ë‘ê·¼ ì–¸ë°•ì‹±</h2>
        <a href="#" class="m-btn-home">í™ˆ</a>
      </div>
    </div><!-- #header -->
      
    <div id="container">
      <div class="content-wrap">
        <h2 class="con-tit hide-750">ë‘ê·¼ë‘ê·¼ ì–¸ë°•ì‹±</h2>
        <div class="slot-machine-area">
          <div class="slot-machine">
            <div class="slot-window">
              <ul class="slot-track" id="slot-track"></ul>
            </div>
          </div><!-- .slot-machine -->
          <span class="particle" data-aos="fade-down" data-aos-duration="1500"><img src="/img/promotion/bg_particle.png" alt=""></span>

          <button id="start-btn">ğŸ° ëœë¤ ë½‘ê¸° ì‹œì‘</button>
          <p id="chances">ì”ì—¬ 14íšŒ</p>
        </div><!-- .slot-machine-area -->
      </div><!-- .content-wrap -->
    </div><!-- #container -->

    <div id="footer">
      <div class="f-inner">
        <ul class="menu">
          <li><a href="">íšŒì‚¬ì†Œê°œ</a></li>
          <li><a href="">ì´ìš©ì•½ê´€</a></li>
          <li><a href="">ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨</a></li>
          <li><a href="">ê³ ê°ì„¼í„°</a></li>
        </ul>
        <div class="address-area">
          <dl class="address">
            <dt>ë©”ì´ë“œì¿ í° ì‚¬ì—…ì ì •ë³´</dt>
            <dd>
              <ul>
                <li>
                  <span class="label">íšŒì‚¬ëª…</span>
                  <span class="value">ãˆœì—”ë²„</span>
                </li>
                <li>
                  <span class="label">ëŒ€í‘œì´ì‚¬</span>
                  <span class="value">ì´ê´‘ìš©</span>
                </li>
                <li>
                  <span class="label">ì‚¬ì—…ìë“±ë¡ë²ˆí˜¸</span>
                  <span class="value">465 88 00127</span>
                </li>
                <li>
                  <span class="label">í†µì‹ íŒë§¤ì—…</span>
                  <span class="value">ì œ 2016 ì„œìš¸ê´‘ì§„ 1141 í˜¸</span>
                </li>
                <li>
                  <span class="label">ê°œì¸ì •ë³´ê´€ë¦¬ì±…ì„ì</span>
                  <span class="value">ì „ì¤€ìƒ</span>
                </li>
                <li>
                  <span class="label">ì£¼ì†Œ</span>
                  <span class="value">ì„œìš¸ ê°•ë‚¨êµ¬ ë´‰ì€ì‚¬ë¡œ 47 ê¸¸ 12 ì§„í˜„ë¹Œë”© 2 ë™ 401 í˜¸</span>
                </li>
              </ul>
              <p class="copy">Copyright â“’ ë©”ì´ë“œì¿ í° MadeCoupon All RightsReserved</p>
            </dd>
          </dl>
        </div>
      </div>
    </div><!-- #footer -->

    <div class="fm-wrap">
      <ul>
        <li class="menu"><a href="#"></a></li>
        <li class="home"><a href="#"></a></li>
        <li class="my"><a href="#"></a></li>
        <li class="gift"><a href="#"></a></li>
      </ul>
    </div><!-- .fm-wrap -->

    <button class="btn-top">ìœ„ë¡œ ê°€ê¸°</button>

    <div class="menu-dimm"></div>
    <div class="menu-wrap">
      <div class="m-header">
        <h1>ë©”ì´ë“œì¿ í° ë©”ë‰´</h1>
        <a class="btn-close" href="#">ë‹«ê¸°</a>
      </div>
      <div class="m-container">
        <ul>
          <li class="menu-1"><a href="#"><span>ì„ ë¬¼í•˜ê¸°</span></a></li>
          <li class="menu-2"><a href="#"><span>ìƒí’ˆê¶Œ ë³´ê´€ì†Œ</span></a></li>
          <li class="menu-3"><a href="#"><span>ìƒí’ˆê¶Œ ì§€ê°‘</span></a></li>
          <li class="menu-4"><a href="#"><span>ë§ˆì¼ë¦¬ì§€ ì¶©ì „ì†Œ</span></a></li>
          <li class="menu-5"><a href="#"><span>ë§ˆì¼ë¦¬ì§€ ì„ ë¬¼í•˜ê¸°</span></a></li>
          <li class="menu-6"><a href="#"><span>ë§ˆì´í˜ì´ì§€</span></a></li>
          <li class="menu-7"><a href="#"><span>ê³µì§€ì‚¬í•­</span></a></li>
          <li class="menu-8"><a href="#"><span>1:1 ë¬¸ì˜</span></a></li>
          <li class="menu-9"><a href="#"><span>ì´ë²¤íŠ¸</span></a></li>
        </ul>
      </div>
    </div><!-- .menu-wrap -->
  </div><!-- #wrapper -->

  <script>
    var Qsample = $.urlParam('sample');
    if (Qsample) {
      setTimeout(() => {
        if (Qsample === 'menu') {
          $('.fm-wrap li.menu a').click();
        } else if (Qsample === 'disabled') {
          $('.mileage-refund-area .refund-total .r-top .price em').text(0);
          $('.mileage-refund-area .refund-total .r-detail li .price em').text(0);
          $('.fix-btn-area.multi .btn-base').addClass('disabled');
        }
      }, 250);
    }

    let remainingChances = 14;
    const slotHeight = 140;
    const spinRounds = 3;

    // ì‚¬ìš©í•  ë¸Œëœë“œ ì´ë¯¸ì§€ ë¦¬ìŠ¤íŠ¸
    const brands = [
      'img/promotion/sample_gift_1.png',
      'img/promotion/sample_gift_2.png',
      'img/promotion/sample_gift_3.png',
      'img/promotion/sample_gift_4.png',
      'img/promotion/sample_gift_5.png',
      'img/promotion/sample_gift_6.png',
    ];

    // âœ… ì„¤ì • ì˜µì…˜
    const config = {
      direction: 'up',   // 'up' ë˜ëŠ” 'down'
      mode: 'random',    // 'random' ë˜ëŠ” 'fixed'
      fixedIndex: 2      // modeê°€ 'fixed'ì¼ ë•Œ ë‹¹ì²¨ ì¸ë±ìŠ¤
    };

    // ìŠ¬ë¡¯ ì•„ì´í…œ ì±„ìš°ê¸°
    const $track = $('#slot-track');
    $track.empty();
    const repeatCount = 10;
    for (let i = 0; i < brands.length * repeatCount; i++) {
      const img = brands[i % brands.length];
      $track.append(`<li><img src="${img}" alt="brand" /></li>`);
    }

    $('#start-btn').on('click', function () {
      if (remainingChances <= 0) {
        alert('ë½‘ê¸° íšŸìˆ˜ê°€ ëª¨ë‘ ì†Œì§„ë˜ì—ˆìŠµë‹ˆë‹¤.');
        return;
      }

      remainingChances--;
      $('#chances').text(`ì”ì—¬ ${remainingChances}íšŒ`);

      const totalItems = $('#slot-track li').length;
      const baseIndex = config.mode === 'fixed'
        ? config.fixedIndex
        : Math.floor(Math.random() * brands.length);
      const stopIndex = (brands.length * spinRounds) + baseIndex;
      const targetY = config.direction === 'up'
        ? -1 * stopIndex * slotHeight
        : stopIndex * slotHeight;

      $track.css({
        transform: 'translateY(0)',
        transition: 'none'
      });

      setTimeout(() => {
        $track.css({
          transform: `translateY(${targetY}px)`,
          transition: 'transform 2s cubic-bezier(0.33, 1, 0.68, 1)'
        });
      }, 50);

      setTimeout(() => {
        const selectedIndex = baseIndex % brands.length;
        console.log(`ğŸ¯ ë‹¹ì²¨:${brands[selectedIndex]}, ${baseIndex+1}ë²ˆì§¸ ìƒí’ˆ`);
      }, 2100);
    });
  </script>
</body>
</html>